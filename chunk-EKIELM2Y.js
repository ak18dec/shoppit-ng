import{a as G}from"./chunk-FM2XK73D.js";import{a as k}from"./chunk-BWOV3XJ3.js";import{a as Q}from"./chunk-UZZZOHOA.js";import{a as E}from"./chunk-CKGJYLAD.js";import{a as H,c as z,d as j,e as A,f as V,g as R,i as J,j as U,n as Y}from"./chunk-J2NJMLJV.js";import{a as O}from"./chunk-NT6DNV6I.js";import{a as D,b as F,d as q,e as B}from"./chunk-F4CX4LIX.js";import{d as N}from"./chunk-G4FOSSBF.js";import{a as T}from"./chunk-EBXGWTTC.js";import{$c as L,Cb as i,Da as y,Db as n,Dc as b,Eb as h,Gc as w,Ib as I,Nc as W,Oc as x,Sa as r,Tb as a,Ub as M,Vb as s,Wc as P,Xa as u,Xb as m,Yb as d,Zb as p,_b as _,d as C,fb as S,lb as v,sb as f}from"./chunk-L5DIGKCM.js";function K(c,g){if(c&1&&(i(0,"div",37)(1,"div")(2,"div",41),a(3),n(),i(4,"div",42),a(5),n()(),i(6,"div"),a(7),n()()),c&2){let o=g.$implicit;r(3),M(o.name),r(2),s("Qty: ",o.quantity,""),r(2),s("$",(o.price*o.quantity).toFixed(2),"")}}var Z=class c{constructor(g,o,e,l){this.cartService=g;this.authService=o;this.toastService=e;this.router=l;this.cartService.items().length===0&&this.router.navigate(["/cart"])}loading=y(!1);shippingInfo={firstName:"",lastName:"",email:"",address:"",city:"",zipCode:"",country:"United States"};paymentInfo={cardNumber:"",expiryDate:"",cvv:"",nameOnCard:""};ngOnInit(){this.shippingInfo={firstName:this.authService.user()?.name||"",lastName:"",email:this.authService.user()?.email||"",address:"",city:"",zipCode:"",country:"United States"}}handleSubmit(){return C(this,null,function*(){this.loading.set(!0),yield new Promise(e=>setTimeout(e,2e3));let g={id:Math.random().toString(36).substr(2,9),items:this.cartService.items(),total:this.cartService.totalPrice()*1.08,shippingInfo:this.shippingInfo,orderDate:new Date().toISOString(),status:"confirmed"},o=JSON.parse(localStorage.getItem("orders")||"[]");o.push(g),localStorage.setItem("orders",JSON.stringify(o)),this.cartService.clearCart(),this.loading.set(!1),this.toastService.success("Order placed successfully!"),this.router.navigate(["/orders"])})}static \u0275fac=function(o){return new(o||c)(u(k),u(E),u(O),u(N))};static \u0275cmp=S({type:c,selectors:[["app-checkout"]],features:[_([W({lucideMapPin:L,lucideCreditCard:P})])],decls:92,vars:16,consts:[[1,"max-w-4xl","mx-auto","space-y-6"],[1,"text-3xl","font-bold"],[1,"grid","lg:grid-cols-2","gap-8",3,"ngSubmit"],[1,"space-y-6"],["hlmCard",""],["hlmCardHeader",""],["hlmCardTitle","",1,"flex","items-center","gap-2"],["name","lucideMapPin",1,"h-5","w-5"],["hlmCardContent","",1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"grid","gap-2"],["hlmLabel","","for","firstName"],["hlmInput","","id","firstName","name","firstName","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","lastName"],["hlmInput","","id","lastName","name","lastName","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","email"],["hlmInput","","id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","address"],["hlmInput","","id","address","name","address","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","city"],["hlmInput","","id","city","name","city","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","zipCode"],["hlmInput","","id","zipCode","name","zipCode","required","",3,"ngModelChange","ngModel"],["name","lucideCreditCard",1,"h-5","w-5"],["hlmLabel","","for","nameOnCard"],["hlmInput","","id","nameOnCard","name","nameOnCard","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","cardNumber"],["hlmInput","","id","cardNumber","placeholder","1234 5678 9012 3456","name","cardNumber","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","expiryDate"],["hlmInput","","id","expiryDate","placeholder","MM/YY","name","expiryDate","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","cvv"],["hlmInput","","id","cvv","placeholder","123","name","cvv","required","",3,"ngModelChange","ngModel"],["hlmCard","",1,"sticky","top-24"],["hlmCardTitle",""],["class","flex justify-between",4,"ngFor","ngForOf"],["hlmSeparator",""],[1,"space-y-2"],[1,"flex","justify-between"],[1,"text-green-600"],[1,"flex","justify-between","text-lg","font-bold"],["hlmBtn","","type","submit","size","lg",1,"w-full",3,"disabled"],[1,"font-medium"],[1,"text-sm","text-muted-foreground"]],template:function(o,e){o&1&&(i(0,"div",0)(1,"h1",1),a(2,"Checkout"),n(),i(3,"form",2),I("ngSubmit",function(){return e.handleSubmit()}),i(4,"div",3)(5,"hlm-card",4)(6,"hlm-card-header",5)(7,"hlm-card-title",6),h(8,"ng-icon",7),a(9," Shipping Information "),n()(),i(10,"hlm-card-content",8)(11,"div",9)(12,"div",10)(13,"label",11),a(14,"First Name"),n(),i(15,"input",12),p("ngModelChange",function(t){return d(e.shippingInfo.firstName,t)||(e.shippingInfo.firstName=t),t}),n()(),i(16,"div",10)(17,"label",13),a(18,"Last Name"),n(),i(19,"input",14),p("ngModelChange",function(t){return d(e.shippingInfo.lastName,t)||(e.shippingInfo.lastName=t),t}),n()()(),i(20,"div",10)(21,"label",15),a(22,"Email"),n(),i(23,"input",16),p("ngModelChange",function(t){return d(e.shippingInfo.email,t)||(e.shippingInfo.email=t),t}),n()(),i(24,"div",10)(25,"label",17),a(26,"Address"),n(),i(27,"input",18),p("ngModelChange",function(t){return d(e.shippingInfo.address,t)||(e.shippingInfo.address=t),t}),n()(),i(28,"div",9)(29,"div",10)(30,"label",19),a(31,"City"),n(),i(32,"input",20),p("ngModelChange",function(t){return d(e.shippingInfo.city,t)||(e.shippingInfo.city=t),t}),n()(),i(33,"div",10)(34,"label",21),a(35,"ZIP Code"),n(),i(36,"input",22),p("ngModelChange",function(t){return d(e.shippingInfo.zipCode,t)||(e.shippingInfo.zipCode=t),t}),n()()()()(),i(37,"hlm-card",4)(38,"hlm-card-header",5)(39,"hlm-card-title",6),h(40,"ng-icon",23),a(41," Payment Information "),n()(),i(42,"hlm-card-content",8)(43,"div",10)(44,"label",24),a(45,"Name on Card"),n(),i(46,"input",25),p("ngModelChange",function(t){return d(e.paymentInfo.nameOnCard,t)||(e.paymentInfo.nameOnCard=t),t}),n()(),i(47,"div",10)(48,"label",26),a(49,"Card Number"),n(),i(50,"input",27),p("ngModelChange",function(t){return d(e.paymentInfo.cardNumber,t)||(e.paymentInfo.cardNumber=t),t}),n()(),i(51,"div",9)(52,"div",10)(53,"label",28),a(54,"Expiry Date"),n(),i(55,"input",29),p("ngModelChange",function(t){return d(e.paymentInfo.expiryDate,t)||(e.paymentInfo.expiryDate=t),t}),n()(),i(56,"div",10)(57,"label",30),a(58,"CVV"),n(),i(59,"input",31),p("ngModelChange",function(t){return d(e.paymentInfo.cvv,t)||(e.paymentInfo.cvv=t),t}),n()()()()()(),i(60,"div")(61,"hlm-card",32)(62,"hlm-card-header",5)(63,"hlm-card-title",33),a(64,"Order Summary"),n()(),i(65,"hlm-card-content",8),v(66,K,8,3,"div",34),h(67,"div",35),i(68,"div",36)(69,"div",37)(70,"span"),a(71,"Subtotal"),n(),i(72,"span"),a(73),n()(),i(74,"div",37)(75,"span"),a(76,"Shipping"),n(),i(77,"span",38),a(78,"Free"),n()(),i(79,"div",37)(80,"span"),a(81,"Tax"),n(),i(82,"span"),a(83),n()()(),h(84,"div",35),i(85,"div",39)(86,"span"),a(87,"Total"),n(),i(88,"span"),a(89),n()(),i(90,"button",40),a(91),n()()()()()()),o&2&&(r(15),m("ngModel",e.shippingInfo.firstName),r(4),m("ngModel",e.shippingInfo.lastName),r(4),m("ngModel",e.shippingInfo.email),r(4),m("ngModel",e.shippingInfo.address),r(5),m("ngModel",e.shippingInfo.city),r(4),m("ngModel",e.shippingInfo.zipCode),r(10),m("ngModel",e.paymentInfo.nameOnCard),r(4),m("ngModel",e.paymentInfo.cardNumber),r(5),m("ngModel",e.paymentInfo.expiryDate),r(4),m("ngModel",e.paymentInfo.cvv),r(7),f("ngForOf",e.cartService.items()),r(7),s("$",e.cartService.totalPrice().toFixed(2),""),r(10),s("$",(e.cartService.totalPrice()*.08).toFixed(2),""),r(6),s("$",(e.cartService.totalPrice()*1.08).toFixed(2),""),r(),f("disabled",e.loading()),r(),s(" ",e.loading()?"Processing...":"Place Order"," "))},dependencies:[w,b,U,R,H,z,j,J,V,A,x,T,D,q,B,F,Y,Q,G],encapsulation:2})};export{Z as CheckoutComponent};
