import{a as J}from"./chunk-UZZZOHOA.js";import{a as x}from"./chunk-CKGJYLAD.js";import{a as F,c as W,d as L,e as B,f as D,g as q,i as V,j,n as z}from"./chunk-J2NJMLJV.js";import{a as w}from"./chunk-NT6DNV6I.js";import{a as N,b as H,d as O,e as A}from"./chunk-F4CX4LIX.js";import{a as _}from"./chunk-EBXGWTTC.js";import{Cb as e,Da as S,Db as t,Eb as s,Gc as I,Ib as y,Nc as E,Oc as M,Sa as o,Tb as n,Vb as m,Xa as d,Xb as p,Yb as u,Zb as c,_b as b,d as h,dd as P,fb as v,md as T,sb as C}from"./chunk-L5DIGKCM.js";var U=class g{constructor(l,r){this.authService=l;this.toastService=r}loading=S(!1);name="";email="";ngOnInit(){this.name=this.authService.user()?.name||"",this.email=this.authService.user()?.email||""}handleSubmit(){return h(this,null,function*(){this.loading.set(!0),yield new Promise(l=>setTimeout(l,1e3)),this.authService.updateProfile(this.name,this.email),this.loading.set(!1),this.toastService.success("Profile updated successfully!")})}getOrderCount(){return JSON.parse(localStorage.getItem("orders")||"[]").length}getTotalSpent(){return JSON.parse(localStorage.getItem("orders")||"[]").reduce((l,r)=>l+r.total,0)}static \u0275fac=function(r){return new(r||g)(d(x),d(w))};static \u0275cmp=v({type:g,selectors:[["app-profile"]],features:[b([E({lucideUser:T,lucideSave:P})])],decls:37,vars:6,consts:[[1,"max-w-md","mx-auto","space-y-6"],[1,"text-3xl","font-bold"],["hlmCard",""],["hlmCardHeader",""],["hlmCardTitle","",1,"flex","items-center","gap-2"],["name","lucideUser","size","24",1,"h-5","w-5"],["hlmCardContent",""],[1,"space-y-4",3,"ngSubmit"],[1,"grid","gap-2"],["hlmLabel","","for","name"],["hlmInput","","id","name","name","name","placeholder","Enter your full name","required","",3,"ngModelChange","ngModel"],["hlmLabel","","for","email"],["hlmInput","","id","email","type","email","name","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel"],["hlmBtn","","type","submit",1,"gap-2",3,"disabled"],["name","lucideSave","size","24",1,"h-4","w-4"],["hlmCardTitle",""],[1,"grid","grid-cols-2","gap-4","text-center"],[1,"text-2xl","font-bold","text-primary"],[1,"text-muted-foreground"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"h1",1),n(2,"Profile Settings"),t(),e(3,"hlm-card",2)(4,"hlm-card-header",3)(5,"hlm-card-title",4),s(6,"ng-icon",5),n(7," Personal Information "),t()(),e(8,"hlm-card-content",6)(9,"form",7),y("ngSubmit",function(){return i.handleSubmit()}),e(10,"div",8)(11,"label",9),n(12,"Full Name"),t(),e(13,"input",10),c("ngModelChange",function(a){return u(i.name,a)||(i.name=a),a}),t()(),e(14,"div",8)(15,"label",11),n(16,"Email Address"),t(),e(17,"input",12),c("ngModelChange",function(a){return u(i.email,a)||(i.email=a),a}),t()(),e(18,"button",13),s(19,"ng-icon",14),n(20),t()()()(),e(21,"hlm-card",2)(22,"hlm-card-header",3)(23,"hlm-card-title",15),n(24,"Account Statistics"),t()(),e(25,"hlm-card-content",6)(26,"div",16)(27,"div")(28,"div",17),n(29),t(),e(30,"div",18),n(31,"Total Orders"),t()(),e(32,"div")(33,"div",17),n(34),t(),e(35,"div",18),n(36,"Total Spent"),t()()()()()()),r&2&&(o(13),p("ngModel",i.name),o(4),p("ngModel",i.email),o(),C("disabled",i.loading()),o(2),m(" ",i.loading()?"Saving...":"Save Changes"," "),o(9),m(" ",i.getOrderCount()," "),o(5),m(" $",i.getTotalSpent().toFixed(2)," "))},dependencies:[I,j,q,F,W,L,V,D,B,M,_,N,O,A,H,z,J],encapsulation:2})};export{U as ProfileComponent};
